<!DOCTYPE html>
<!--#set var = "posttitle" value = "Public Service Announcement: Multi-Step Releases Considered Harmful" -->
<!--#set var = "postdate" value = "May 3rd, 2016" -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">

	<title>Carl Myers' Blog - <!--#echo var = posttitle --></title>

    <!-- Bootstrap core CSS -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/bootstrap/css/theme.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines!
    <script src="../../assets/js/ie8-responsive-file-warning.js"></script>
    <script src="bootstrap/js/ie-emulation-modes-warning.js"></script>
    -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body role="document">

	<!-- include the nav bar -->
	<!--#set var = "page" value = "blog" -->
	<!--#include file="/nav.html" -->

    <div class="container theme-showcase" role="main">

      <div>

<h1><!--#echo var = "posttitle" --></h1>
<h2><!--#echo var = "postdate" --></h2>
<p>
Our industry has understood for <a
href="http://www.joelonsoftware.com/articles/fog0000000043.html">going on 16
years now</a> that the ability to perform a build in a single step is a critical
metric for judging a software organization's process quality, ranking right up
there with "you use source control, right?"  I'm going to argue that <b>all</b>
release engineering process should follow this rule as well.  This includes
releasing, branching, hotfixing, etc.  It is massive failure of engineering
pattern-recognition that this is not recognized across our industry and just as
common as it is for builds.  While there exist many companies that do perform
releases and branches in a single, simple step - many many more do not, even
those that understand the value of simple single-step builds.  For builds, Many
consider this result to be self-evident, but it will be valuable to rehash the
discussion for the sake of the parallels it exposes.
</p><p>
Builds are things that should happen "early and often".  The more you build, the
more you find problems early, which itself is an important good which I've
discussed <a
href="2016-01-27-Better-Debugging-Through-Socratic-Method.html">in-depth in the
past</a>.  Things which are good should be easy and incentivized.  A process
that is annoying, difficult, long, or complex is not incentivized.  Therefore, a
build should be a single step.  That is just one consequence of this thinking,
however.  A build should also be easy and fast.  You should be able to run it on
your local machine, preferrably.  It should be <a
href="2016-01-28-The-Importance-of-Build-Reliability.html">reliable</a>, or
developers will not keep it reliable or find value in running it.  All of these
aspects come from the observation that builds are a thing that ought to be
incentivized.  All of these things are true of release engineering processes as
well.
</p><p>
A developer should be able to produce a hotfix locally, trivially, and in a
single step, so they can test a critical fix.  A developer should be able to
produce a branch in a single step, so they can experiment with long-lived
changes that cannot go into trunk development yet.  A developer should be able
to produce a release - exactly like an official one - to reproduce problems in
production exactly, or verify a fix.  Also, continuous release is becoming "the
nbew hotness", and for this very reason.  A developer should be able to do all
of these things on a whim, to detect problems with the process early.  Does the
branching process even still work given all the development that has happened
since the last branch?  Five minutes before the release is scheduled to happen
is just about the worst time to find out.
</p><p>
So what happens when we now consider massive-scale software - software with 30
different components, each of which has 100+ dependencies in its dependency tree
- spread across many different repositories, controlled by different entities?
One must engineer around this problem.  A build framework is needed that can
understand dependencies and stitch together disparate repositories into a single
unified snapshot of known-good revisions.  This tool should store its metadata
in a way that you can create a "branch across packages" (Amazon would call this
a "versionset") in a single step.  This tool should be able to build the entire
build tree in a single reliable step (no guarantees it'll be fast, but if your
tool is good, it will support parallelism and incremental builds and only build
that which has changed).  Notice that <a href="https://qbtbuildtool.com">QBT
Build Tool</a> is an excellent candidate for this - that is by design.
</p><p>
There is a potentially-low-hanging fruit available to a huge fraction of the
software engineering shops out there - make your releases and branching
processes easy, and a single step.  Make them run locally.  Don't couple them to
a jenkins job someone needs to run on a remote system with parameters documented
in some wiki somewhere.  If the "how to create a branch" wiki page is longer
than "run this command", that's an anti-pattern.  If the codebase is massive,
and this fruit is not "low-hanging", maybe there are other priorities, but this
is something that should eventually be done.  The best time to plant a tree is
20 years ago, but the second best time to plant a tree is right now.
</p>
      </div>


    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/bootstrap/js/docs.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/bootstrap/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
